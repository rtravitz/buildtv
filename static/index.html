<html>
  <head>
    <style>
        body {
          margin: 0;
        }
				.image {
          background-position: center top;
          background-repeat: no-repeat;
          background-size: cover;
					height: 100%;
				}
		</style>
  </head>
  <body>
    <script>
      var sock = null;
      var wsuri = "ws://127.0.0.1:1234/ws"

      window.onload = function() {
        console.log("onload")
        sock = new WebSocket(wsuri);

        sock.onopen = function() {
          console.log("connected to " + wsuri)
        }

        sock.onclose = function(e) {
          console.log("connection closed (" + e.code + ")")
        }

        sock.onmessage = function(e) {
          console.log("message received: " + e.data)
          var link
          if (e.data.indexOf('http') > -1) {
            console.log(e.data)
            console.log('yep')
            link = e.data
          } else {
            link = "./images/" + e.data
          }
          document.getElementById("img").style.backgroundImage = 'url("' + link + '")'
        }
      }
    </script>
    <div id="img" class="image"></div>
  </body>
</html>